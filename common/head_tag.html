<meta name="google" content="notranslate" />

<script
	type="text/x-handlebars"
	data-template-name="components/category-title-link"
>
	<a href={{category.url}}>
	  {{#if category.uploaded_logo.url}}
	    <div>{{cdn-img src=category.uploaded_logo.url class="category-logo"}}</div>
	  {{/if}}
	</a>

	<a href={{category.url}}>
	  {{#if category.read_restricted}}
	    {{fa-icon 'lock'}}
	  {{/if}}

	  <span class="category-name">{{category.name}}</span>
	</a>
</script>

<script
	type="text/x-handlebars"
	data-template-name="components/categories-with-featured-topics"
>
	<div class="category-thing core">
	{{categories-only categories=(filter-core categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing interstate">
	{{categories-only categories=(filter-interstate categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing scp">
	{{categories-only categories=(filter-scp categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing apps-appeals">
	{{categories-only categories=(filter-apps-appeals categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing private">
	{{categories-only categories=(filter-private categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>
</script>

<script
	type="text/x-handlebars"
	data-template-name="mobile/components/categories-with-featured-topics"
>
	<div class="category-thing core">
	{{categories-only categories=(filter-core categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing interstate">
	{{categories-only categories=(filter-interstate categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing scp">
	{{categories-only categories=(filter-scp categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing apps-appeals">
	{{categories-only categories=(filter-apps-appeals categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>

	<div class="category-thing private">
	{{categories-only categories=(filter-private categories) latestTopicOnly=latestTopicOnly showTopics=true}}
	</div>
</script>

<script>
	const { registerUnbound } = require('discourse-common/lib/helpers');

	registerUnbound('filter-core', (categories) => {
		return categories.filter((a) => a.slug.match(/^bacta-/));
	});

	registerUnbound('filter-apps-appeals', (categories) => {
		return categories.filter((a) => a.slug.match(/^app-/));
	});

	registerUnbound('filter-private', (categories) => {
		return categories.filter(
			(a) => a.slug.match(/^forums-staff/) || a.slug.match(/^staff-/)
		);
	});

	registerUnbound('filter-interstate', (categories) => {
		return categories.filter((a) => a.slug.match(/^interstate-/i));
	});

	registerUnbound('filter-scp', (categories) => {
		return categories.filter((a) => a.slug.match(/^scp-/i));
	});
</script>
